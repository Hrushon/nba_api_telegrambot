# NBA4U
## Телеграм-бот для работы с API-сервисом [balldontlie.io.](http://balldontlie.io/)

Телеграм-бот позволяет пользователю выполнить запросы к API-сервису *balldontlie.io* - бесплатному сервису статистики Национальной Баскетбольной Ассоциации.

Доступны запросы к следующей информации:
+ поиск игрока НБА по имени (латиница);
+ отображение статистики игрока:
+ + за конкретный сезон;
+ + отдельно по играм с возможностью ограничения выборки:
+ + + конкретного сезона;
+ + + определенных дат;
+ + + игр плей-офф;
+ отображение списка текущих команд;
+ отображение игр с возможностью ограничения выборки:
+ + по конкретной команде (по ID);
+ + по конкретным датам;
+ + по играм плей-офф;
+ + по конкретному сезону

API-сервис предоставляет возможность следить за играми в реальном времени с обновлением информации каждые *10 мин*.
В связи с этим реализована возможность проверки статуса игры.

Реализована возможность работы с большими объемами информации посредством _перелистывания страниц_.

*Кустарно* реализован кэш для списка текущих команд и ступенчатый опрос пользователя для уточнения параметров выборки запросов списка игр и статистики игрока.

Вывод логов настроен в консоль.

## Порядок установки проекта

Клонируем репозиторий и переходим в директорию infra:
```
git clone https://github.com/Hrushon/nba_api_telegrambot.git
```
```
cd ./nba_api_telegrambot/api_bot/
```
При необходимости измените уровень логирования.

### Структура env-файла:

Создаем и открываем для редактирования файл .env:
```
sudo nano .env
```
В файл вносим следующие данные:
```
# указываем ID аккаунта в телеграм администратора
ADMIN_ID = _12345_
# указываем токен телеграм-бота
BOT_TOKEN = _123456789:abcdefghjkl_
```

### Развертывание с использованием Docker:

Докерфайл находится в корне:
```
cd ./nba_api_telegrambot/
```
Создаем образ и присваиваем ему тег:
```
sudo docker build -t nba4u .
```
Запускаем контейнер и присваиваем ему имя:
```
sudo docker run -name NBA4U -t -i nba4u
```
